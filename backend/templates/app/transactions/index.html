{% extends "app/base.html" %}

{% block title %}Transactions{% endblock %}

{% block header %}
  <h1 class="text-xl font-semibold">Transactions</h1>
{% endblock %}

{% block content %}
  {% if transactions %}
    <div class="space-y-2">
      {% for t in transactions %}
        <div class="flex items-center justify-between rounded-lg border border-zinc-800 bg-zinc-950 p-4">
          <div class="min-w-0">
            <div class="font-medium text-white truncate">
              {{ t.description }}
              {% if t.pending %}
                <span class="text-xs text-zinc-400">(Pending)</span>
              {% endif %}
            </div>

            <div class="text-sm text-zinc-400">
              {{ t.date }} • {{ t.account.name }}
              {% if t.account.mask %} • •••• {{ t.account.mask }}{% endif %}
            </div>

            {% if t.category %}
              <div class="text-sm text-zinc-400">
                {{ t.category }}
              </div>
            {% elif t.plaid_category_primary %}
              <div class="text-sm text-zinc-500">
                {{ t.plaid_category_primary }}
              </div>
            {% endif %}
          </div>

          <div class="text-right shrink-0 pl-4">
            <div class="font-semibold text-white">
              {{ t.amount }}
            </div>
            <div class="text-sm text-zinc-400">
              {% if t.amount > 0 %}Inflow{% else %}Outflow{% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="rounded-lg border border-zinc-800 bg-zinc-950 p-6 text-zinc-300">
      No transactions yet.
    </div>
  {% endif %}
{% endblock %}

